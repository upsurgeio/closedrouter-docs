---
title: "Image Input"
description: "Send images to vision models through the Pineapple API."
---

Requests with images, to multimodal models, are available via the `/chat/completions` API with a multi-part `messages`parameter. The `image_url` can either be a **URL** or a **base64-encoded image**. You can send multiple images by adding more content entries in the same message.

<Note>
  URLs are preferred for large files since they avoid payload bloat. Use base64 encoding when working with local or private files.
</Note>

Pineapple supports both **direct URLs** and **base64-encoded data** for images:

- **URLs**: More efficient for publicly accessible images as they don't require local encoding
- **Base64**: Required for local files or private images that aren't publicly accessible

### Using Image URLs

Here's how to send an image via URL:

<CodeGroup>

```python Python
import requests
import json

url = "https://api.pineapple.ai/v1/chat/completions"
headers = {
    "Authorization": f"Bearer {API_KEY_REF}",
    "Content-Type": "application/json"
}

messages = [
    {
        "role": "user",
        "content": [
            {"type": "text", "text": "What do you see in this image?"},
            {
                "type": "image_url",
                "image_url": {
                    "url": "https://upload.wikimedia.org/wikipedia/commons/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg",
                    "detail": "high"
                }
            }
        ]
    }
]

payload = {"model": "{{MODEL}}", "messages": messages, "max_tokens": 300}

response = requests.post(url, headers=headers, json=payload)
print(response.json())
```


```typescript Typescript
const response = await fetch('https://api.pineapple.ai/v1/chat/completions', {
  method: 'POST',
  headers: {
    Authorization: `Bearer ${API_KEY_REF}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    model: '{{MODEL}}',
    max_tokens: 300,
    messages: [
      {
        role: 'user',
        content: [
          { type: 'text', text: "What do you see in this image?" },
          {
            type: 'image_url',
            image_url: {
              url: 'https://upload.wikimedia.org/wikipedia/commons/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg',
              detail: 'high',
            },
          },
        ],
      },
    ],
  }),
});

const data = await response.json();
console.log(data);
```

</CodeGroup>

### Using Base64 Encoded Images (OpenAI only)

For **OpenAI models**, you can send local images as base64:

<CodeGroup>

```python Python
import requests, base64

def encode_image_to_base64(image_path):
    with open(image_path, "rb") as f:
        return base64.b64encode(f.read()).decode("utf-8")

url = "https://api.pineapple.ai/v1/chat/completions"
headers = {
    "Authorization": f"Bearer {API_KEY_REF}",
    "Content-Type": "application/json"
}

base64_image = encode_image_to_base64("path/to/image.jpg")
data_url = f"data:image/jpeg;base64,{base64_image}"

messages = [
    {
        "role": "user",
        "content": [
            {"type": "text", "text": "What do you see in this image?"},
            {
                "type": "image_url",
                "image_url": {"url": data_url, "detail": "high"}
            }
        ]
    }
]

payload = {"model": "{{MODEL}}", "messages": messages, "max_tokens": 300}

response = requests.post(url, headers=headers, json=payload)
print(response.json())
```


```typescript Typescript
import fs from 'fs/promises';

async function encodeImageToBase64(path: string): Promise<string> {
  const buffer = await fs.readFile(path);
  return `data:image/jpeg;base64,${buffer.toString('base64')}`;
}

const imageData = await encodeImageToBase64('path/to/image.jpg');

const response = await fetch('https://api.pineapple.ai/v1/chat/completions', {
  method: 'POST',
  headers: {
    Authorization: `Bearer ${API_KEY_REF}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    model: '{{MODEL}}',
    max_tokens: 300,
    messages: [
      {
        role: 'user',
        content: [
          { type: 'text', text: "What do you see in this image?" },
          {
            type: 'image_url',
            image_url: { url: imageData, detail: 'high' },
          },
        ],
      },
    ],
  }),
});

const data = await response.json();
console.log(data);
```

</CodeGroup>

### Supported image types:

- `image/png`
- `image/jpeg`
- `image/webp`
- `image/gif`